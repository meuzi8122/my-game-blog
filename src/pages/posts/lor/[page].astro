---
import type { GetStaticPathsOptions } from "astro";
import { PostClient } from "../../../client/post";
import Layout from "../../../components/layout.astro";
import List from "../../../components/list.astro";
import Pagination from "../../../components/pagination.astro";

export async function getStaticPaths({ paginate }: GetStaticPathsOptions) {
	const posts = await PostClient.findPostMetaData("lor");
	return paginate(posts, { pageSize: 5 });
}

const { page } = Astro.props;
---

<Layout title="Library of Ruina | プロムンゲーメモ">
	<div class="mb-6">
		<div class="space-y-2 pt-6 pb-8 md:space-y-5">
			<h1 class="text-3xl font-extrabold">Library of Ruina</h1>
			<div class="divider"></div>
		</div>
        {page.data.length && (
            <List posts={page.data} />
            <Pagination prev={page.url.prev} next={page.url.next} />
        )}
	</div>
</Layout>